"use client";

import { createContext, ReactNode, useState } from "react";
import { OptionType } from "../components/selects/SingleSelect";
import { options } from "../settings/page";

type ExploitationContextDataType = {
  selectedExploitationOption: OptionType | null;
  handleSelectedExploitationOption: (option: OptionType) => void;
};

type ExploitationContextProviderProps = {
  children: ReactNode;
};

const initialExploitationContextData: ExploitationContextDataType = {
  selectedExploitationOption: null,
  handleSelectedExploitationOption: () => {},
};

export const ExploitationContext = createContext(
  initialExploitationContextData
);

const ExploitationContextProvider = ({
  children,
}: ExploitationContextProviderProps) => {
  const [selectedExploitationOption, setSelectedExploitationOption] =
    useState<OptionType | null>(options[0]);

  const handleSelectedExploitationOption = (option: OptionType) => {
    setSelectedExploitationOption(option);
  };

  return (
    <ExploitationContext.Provider
      value={{
        selectedExploitationOption: selectedExploitationOption,
        handleSelectedExploitationOption,
      }}
    >
      {children}
    </ExploitationContext.Provider>
  );
};

export default ExploitationContextProvider;
